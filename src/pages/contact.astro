---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Contact Me">
	<div class="max-w-4xl mx-auto px-4 py-12">
		<h1 class="text-4xl font-bold text-center mb-12 text-dark-900">Contact Me</h1>
		
		<div class="grid md:grid-cols-2 gap-12">
			<!-- Contact Information -->
			<div>
				<h2 class="text-2xl font-bold mb-6 text-dark-800">Get In Touch</h2>
				<p class="text-secondary-700 mb-8">Have a question or want to collaborate? Feel free to reach out using the contact form or through any of the methods below.</p>
				
				<div class="space-y-6">
					<div class="flex items-start">
						<div class="bg-primary-50 p-3 rounded-full mr-4">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary-700">
								<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
							</svg>
						</div>
						<div>
							<h3 class="font-semibold text-dark-800">Phone</h3>
							<p class="text-secondary-600">+30 210 1234567</p>
						</div>
					</div>
					
					<div class="flex items-start">
						<div class="bg-primary-50 p-3 rounded-full mr-4">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary-700">
								<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
								<polyline points="22,6 12,13 2,6"></polyline>
							</svg>
						</div>
						<div>
							<h3 class="font-semibold text-dark-800">Email</h3>
							<p class="text-secondary-600"><a href="mailto:info@devx.gr">info@devx.gr</a></p>
						</div>
					</div>
					
					<div class="flex items-start">
						<div class="bg-primary-50 p-3 rounded-full mr-4">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary-700">
								<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
								<circle cx="12" cy="10" r="3"></circle>
							</svg>
						</div>
						<div>
							<h3 class="font-semibold text-dark-800">Location</h3>
							<p class="text-secondary-600">Thessaloniki, Greece</p>
						</div>
					</div>
				</div>
				
				<div class="mt-10">
					<h3 class="text-xl font-bold mb-4 text-dark-800">Follow Me</h3>
					<div class="flex space-x-4">
						<a href="https://www.facebook.com/dyrer/https://www.facebook.com/dyrer/" class="bg-primary-50 hover:bg-primary-100 text-primary-700 p-3 rounded-full transition-colors">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
							</svg>
						</a>
						<a href="https://x.com/eathanasiadis" class="bg-primary-50 hover:bg-primary-100 text-primary-700 p-3 rounded-full transition-colors">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
							</svg>
						</a>
						<a href="https://www.linkedin.com/in/evangelos-athanasiadis-3729b82b/" class="bg-primary-50 hover:bg-primary-100 text-primary-700 p-3 rounded-full transition-colors">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
								<rect x="2" y="9" width="4" height="12"></rect>
								<circle cx="4" cy="4" r="2"></circle>
							</svg>
						</a>
						<a href="https://www.instagram.com/aevangelos/" class="bg-primary-50 hover:bg-primary-100 text-primary-700 p-3 rounded-full transition-colors">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
								<path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
								<line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
							</svg>
						</a>
					</div>
				</div>
			</div>
			
			<!-- Contact Form -->
			<div class="bg-white p-8 rounded-lg shadow-md border border-secondary-100">
				<h2 class="text-2xl font-bold mb-6 text-dark-800">Send Me a Message</h2>
				
				<!-- Success/Error Messages -->
				<div id="form-message" class="hidden mb-6 p-4 rounded-md"></div>
				
				<form id="contact-form" class="space-y-6">
					<div>
						<label for="name" class="block text-sm font-medium text-secondary-700 mb-1">Your Name</label>
						<input 
							type="text" 
							id="name" 
							name="name" 
							required 
							class="w-full px-4 py-2 border border-secondary-200 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
						/>
					</div>
					
					<div>
						<label for="email" class="block text-sm font-medium text-secondary-700 mb-1">Your Email</label>
						<input 
							type="email" 
							id="email" 
							name="email" 
							required 
							class="w-full px-4 py-2 border border-secondary-200 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
						/>
					</div>
					
					<div>
						<label for="subject" class="block text-sm font-medium text-secondary-700 mb-1">Subject</label>
						<input 
							type="text" 
							id="subject" 
							name="subject" 
							required 
							class="w-full px-4 py-2 border border-secondary-200 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
						/>
					</div>
					
					<div>
						<label for="message" class="block text-sm font-medium text-secondary-700 mb-1">Message</label>
						<textarea 
							id="message" 
							name="message" 
							rows="5" 
							required 
							class="w-full px-4 py-2 border border-secondary-200 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
						></textarea>
					</div>
					
					<button 
						type="submit" 
						id="submit-btn"
						class="w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 px-4 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
					>
						<span id="submit-text">Send Message</span>
						<span id="submit-loading" class="hidden">Sending...</span>
					</button>
				</form>
			</div>
		</div>
	</div>
</Layout>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const form = document.getElementById('contact-form') as HTMLFormElement;
		const submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;
		const submitText = document.getElementById('submit-text') as HTMLSpanElement;
		const submitLoading = document.getElementById('submit-loading') as HTMLSpanElement;
		const formMessage = document.getElementById('form-message') as HTMLDivElement;

		if (form) {
			form.addEventListener('submit', async (e) => {
				e.preventDefault();
				
				// Show loading state
				submitBtn.disabled = true;
				submitText.classList.add('hidden');
				submitLoading.classList.remove('hidden');
				formMessage.classList.add('hidden');

				try {
					const formData = new FormData(form);
					
					const response = await fetch('/.netlify/functions/contact', {
						method: 'POST',
						body: formData
					});

					const result = await response.json();

					// Show message
					formMessage.classList.remove('hidden');
					
					if (result.success) {
						formMessage.className = 'mb-6 p-4 rounded-md bg-green-50 text-green-800 border border-green-200';
						formMessage.textContent = result.message;
						form.reset();
					} else {
						formMessage.className = 'mb-6 p-4 rounded-md bg-red-50 text-red-800 border border-red-200';
						formMessage.textContent = result.message;
					}
				} catch (error) {
					console.error('Form submission error:', error);
					formMessage.classList.remove('hidden');
					formMessage.className = 'mb-6 p-4 rounded-md bg-red-50 text-red-800 border border-red-200';
					formMessage.textContent = 'Sorry, there was an error sending your message. Please try again later.';
				} finally {
					// Reset button state
					submitBtn.disabled = false;
					submitText.classList.remove('hidden');
					submitLoading.classList.add('hidden');
				}
			});
		}
	});
</script>